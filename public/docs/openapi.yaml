openapi: 3.0.3
info:
  title: 'Taskboard API Documentation'
  description: 'API pour gérer des boards, colonnes et cartes de type Kanban.'
  version: 1.0.0
servers:
  -
    url: 'http://localhost'
tags:
  -
    name: 'Audit Logs'
    description: "\nAPIs for viewing audit logs (Admin only)"
  -
    name: Boards
    description: "\nAPIs for managing Kanban boards"
  -
    name: Cards
    description: "\nAPIs for managing cards within columns"
  -
    name: Columns
    description: "\nAPIs for managing columns within boards"
  -
    name: Notifications
    description: "\nAPIs for managing user notifications"
components:
  securitySchemes:
    default:
      type: http
      scheme: bearer
      description: 'Utilisez un token Sanctum obtenu via la connexion.'
security:
  -
    default: []
paths:
  /api/audit-logs:
    get:
      summary: 'List audit logs'
      operationId: listAuditLogs
      description: "Returns paginated audit logs. Requires admin role.\nThis endpoint is rate-limited to 10 requests per minute."
      parameters:
        -
          in: query
          name: user_id
          description: 'Filter by user who performed the action.'
          example: 1
          required: false
          schema:
            type: integer
            description: 'Filter by user who performed the action.'
            example: 1
        -
          in: query
          name: model_type
          description: 'Filter by model type (Board, Column, Card).'
          example: Board
          required: false
          schema:
            type: string
            description: 'Filter by model type (Board, Column, Card).'
            example: Board
        -
          in: query
          name: action
          description: 'Filter by action type (created, updated, deleted).'
          example: created
          required: false
          schema:
            type: string
            description: 'Filter by action type (created, updated, deleted).'
            example: created
        -
          in: query
          name: page
          description: 'The page number.'
          example: 1
          required: false
          schema:
            type: integer
            description: 'The page number.'
            example: 1
      responses:
        200:
          description: success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 1
                      description: 'Board created'
                      subject_type: App\Models\Board
                      subject_id: 1
                      causer_type: App\Models\User
                      causer_id: 1
                      properties:
                        attributes:
                          name: 'New Board'
                          description: 'Board description'
                      created_at: '2026-01-25T10:00:00.000000Z'
                      causer:
                        id: 1
                        name: 'Admin User'
                  links:
                    first: 'http://localhost/api/audit-logs?page=1'
                    last: 'http://localhost/api/audit-logs?page=1'
                    prev: null
                    next: null
                  meta:
                    current_page: 1
                    from: 1
                    last_page: 1
                    per_page: 50
                    to: 1
                    total: 1
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 1
                        description: 'Board created'
                        subject_type: App\Models\Board
                        subject_id: 1
                        causer_type: App\Models\User
                        causer_id: 1
                        properties:
                          attributes:
                            name: 'New Board'
                            description: 'Board description'
                        created_at: '2026-01-25T10:00:00.000000Z'
                        causer:
                          id: 1
                          name: 'Admin User'
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 1
                        description:
                          type: string
                          example: 'Board created'
                        subject_type:
                          type: string
                          example: App\Models\Board
                        subject_id:
                          type: integer
                          example: 1
                        causer_type:
                          type: string
                          example: App\Models\User
                        causer_id:
                          type: integer
                          example: 1
                        properties:
                          type: object
                          properties:
                            attributes:
                              type: object
                              properties:
                                name:
                                  type: string
                                  example: 'New Board'
                                description:
                                  type: string
                                  example: 'Board description'
                        created_at:
                          type: string
                          example: '2026-01-25T10:00:00.000000Z'
                        causer:
                          type: object
                          properties:
                            id:
                              type: integer
                              example: 1
                            name:
                              type: string
                              example: 'Admin User'
                  links:
                    type: object
                    properties:
                      first:
                        type: string
                        example: 'http://localhost/api/audit-logs?page=1'
                      last:
                        type: string
                        example: 'http://localhost/api/audit-logs?page=1'
                      prev:
                        type: string
                        example: null
                      next:
                        type: string
                        example: null
                  meta:
                    type: object
                    properties:
                      current_page:
                        type: integer
                        example: 1
                      from:
                        type: integer
                        example: 1
                      last_page:
                        type: integer
                        example: 1
                      per_page:
                        type: integer
                        example: 50
                      to:
                        type: integer
                        example: 1
                      total:
                        type: integer
                        example: 1
        401:
          description: unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  message: Unauthenticated.
                properties:
                  message:
                    type: string
                    example: Unauthenticated.
        403:
          description: forbidden
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Accès réservé aux administrateurs.'
                properties:
                  message:
                    type: string
                    example: 'Accès réservé aux administrateurs.'
      tags:
        - 'Audit Logs'
  /api/boards:
    get:
      summary: 'List all boards'
      operationId: listAllBoards
      description: "Returns all boards accessible to the authenticated user.\nAdmin users see all boards, viewers see only their own."
      parameters: []
      responses:
        200:
          description: success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 1
                      name: 'Project Alpha'
                      description: 'Main project board'
                      user_id: 1
                      created_at: '2026-01-25T10:00:00.000000Z'
                      updated_at: '2026-01-25T10:00:00.000000Z'
                      columns_count: 3
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 1
                        name: 'Project Alpha'
                        description: 'Main project board'
                        user_id: 1
                        created_at: '2026-01-25T10:00:00.000000Z'
                        updated_at: '2026-01-25T10:00:00.000000Z'
                        columns_count: 3
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 1
                        name:
                          type: string
                          example: 'Project Alpha'
                        description:
                          type: string
                          example: 'Main project board'
                        user_id:
                          type: integer
                          example: 1
                        created_at:
                          type: string
                          example: '2026-01-25T10:00:00.000000Z'
                        updated_at:
                          type: string
                          example: '2026-01-25T10:00:00.000000Z'
                        columns_count:
                          type: integer
                          example: 3
        401:
          description: unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  message: Unauthenticated.
                properties:
                  message:
                    type: string
                    example: Unauthenticated.
      tags:
        - Boards
    post:
      summary: 'Create a board'
      operationId: createABoard
      description: 'Creates a new board with 3 default columns: "À faire", "En cours", "Terminé".'
      parameters: []
      responses:
        201:
          description: created
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 1
                    name: 'Project Alpha'
                    description: 'Main project board'
                    user_id: 1
                    created_at: '2026-01-25T10:00:00.000000Z'
                    updated_at: '2026-01-25T10:00:00.000000Z'
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: 'Project Alpha'
                      description:
                        type: string
                        example: 'Main project board'
                      user_id:
                        type: integer
                        example: 1
                      created_at:
                        type: string
                        example: '2026-01-25T10:00:00.000000Z'
                      updated_at:
                        type: string
                        example: '2026-01-25T10:00:00.000000Z'
        422:
          description: 'validation error'
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'The name field is required.'
                  errors:
                    name:
                      - 'The name field is required.'
                properties:
                  message:
                    type: string
                    example: 'The name field is required.'
                  errors:
                    type: object
                    properties:
                      name:
                        type: array
                        example:
                          - 'The name field is required.'
                        items:
                          type: string
      tags:
        - Boards
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'The name of the board.'
                  example: 'Project Alpha'
                description:
                  type: string
                  description: 'optional The board description.'
                  example: 'Main project board'
              required:
                - name
  '/api/boards/{id}':
    get:
      summary: 'Get a board'
      operationId: getABoard
      description: 'Returns a single board with its columns and cards.'
      parameters: []
      responses:
        200:
          description: success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 1
                    name: 'Project Alpha'
                    description: 'Main project board'
                    user_id: 1
                    created_at: '2026-01-25T10:00:00.000000Z'
                    updated_at: '2026-01-25T10:00:00.000000Z'
                    columns:
                      -
                        id: 1
                        name: 'To Do'
                        position: 0
                        cards: []
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: 'Project Alpha'
                      description:
                        type: string
                        example: 'Main project board'
                      user_id:
                        type: integer
                        example: 1
                      created_at:
                        type: string
                        example: '2026-01-25T10:00:00.000000Z'
                      updated_at:
                        type: string
                        example: '2026-01-25T10:00:00.000000Z'
                      columns:
                        type: array
                        example:
                          -
                            id: 1
                            name: 'To Do'
                            position: 0
                            cards: []
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              example: 1
                            name:
                              type: string
                              example: 'To Do'
                            position:
                              type: integer
                              example: 0
                            cards:
                              type: array
                              example: []
        403:
          description: forbidden
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'This action is unauthorized.'
                properties:
                  message:
                    type: string
                    example: 'This action is unauthorized.'
        404:
          description: 'not found'
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Board not found.'
                properties:
                  message:
                    type: string
                    example: 'Board not found.'
      tags:
        - Boards
    put:
      summary: 'Update a board'
      operationId: updateABoard
      description: 'Updates the board name and/or description.'
      parameters: []
      responses:
        200:
          description: success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 1
                    name: 'Updated Project Name'
                    description: 'Updated description'
                    user_id: 1
                    created_at: '2026-01-25T10:00:00.000000Z'
                    updated_at: '2026-01-25T11:00:00.000000Z'
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: 'Updated Project Name'
                      description:
                        type: string
                        example: 'Updated description'
                      user_id:
                        type: integer
                        example: 1
                      created_at:
                        type: string
                        example: '2026-01-25T10:00:00.000000Z'
                      updated_at:
                        type: string
                        example: '2026-01-25T11:00:00.000000Z'
        403:
          description: forbidden
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'This action is unauthorized.'
                properties:
                  message:
                    type: string
                    example: 'This action is unauthorized.'
      tags:
        - Boards
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'The new name for the board.'
                  example: 'Updated Project Name'
                description:
                  type: string
                  description: 'The new description.'
                  example: 'Updated description'
    delete:
      summary: 'Delete a board'
      operationId: deleteABoard
      description: 'Deletes the board and all its columns and cards. Admin only.'
      parameters: []
      responses:
        204:
          description: deleted
          content:
            text/plain:
              schema:
                type: string
                example: ''
        403:
          description: forbidden
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'This action is unauthorized.'
                properties:
                  message:
                    type: string
                    example: 'This action is unauthorized.'
      tags:
        - Boards
    parameters:
      -
        in: path
        name: id
        description: 'The ID of the board.'
        example: 16
        required: true
        schema:
          type: integer
      -
        in: path
        name: board
        description: 'The board ID.'
        example: 1
        required: true
        schema:
          type: integer
  '/api/columns/{column_id}/cards':
    get:
      summary: 'List cards in a column'
      operationId: listCardsInAColumn
      description: 'Returns all cards in the specified column, ordered by position.'
      parameters: []
      responses:
        200:
          description: success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 1
                      title: 'Task 1'
                      description: 'First task description'
                      position: 0
                      column_id: 1
                      user_id: 1
                      created_at: '2026-01-25T10:00:00.000000Z'
                      updated_at: '2026-01-25T10:00:00.000000Z'
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 1
                        title: 'Task 1'
                        description: 'First task description'
                        position: 0
                        column_id: 1
                        user_id: 1
                        created_at: '2026-01-25T10:00:00.000000Z'
                        updated_at: '2026-01-25T10:00:00.000000Z'
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 1
                        title:
                          type: string
                          example: 'Task 1'
                        description:
                          type: string
                          example: 'First task description'
                        position:
                          type: integer
                          example: 0
                        column_id:
                          type: integer
                          example: 1
                        user_id:
                          type: integer
                          example: 1
                        created_at:
                          type: string
                          example: '2026-01-25T10:00:00.000000Z'
                        updated_at:
                          type: string
                          example: '2026-01-25T10:00:00.000000Z'
        403:
          description: forbidden
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'This action is unauthorized.'
                properties:
                  message:
                    type: string
                    example: 'This action is unauthorized.'
        404:
          description: 'not found'
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Column not found.'
                properties:
                  message:
                    type: string
                    example: 'Column not found.'
      tags:
        - Cards
    post:
      summary: 'Create a card'
      operationId: createACard
      description: 'Creates a new card in the specified column. Position is auto-assigned.'
      parameters: []
      responses:
        201:
          description: created
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 2
                    title: 'New Task'
                    description: 'Task details here'
                    position: 1
                    column_id: 1
                    user_id: 1
                    created_at: '2026-01-25T10:00:00.000000Z'
                    updated_at: '2026-01-25T10:00:00.000000Z'
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 2
                      title:
                        type: string
                        example: 'New Task'
                      description:
                        type: string
                        example: 'Task details here'
                      position:
                        type: integer
                        example: 1
                      column_id:
                        type: integer
                        example: 1
                      user_id:
                        type: integer
                        example: 1
                      created_at:
                        type: string
                        example: '2026-01-25T10:00:00.000000Z'
                      updated_at:
                        type: string
                        example: '2026-01-25T10:00:00.000000Z'
        403:
          description: forbidden
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'This action is unauthorized.'
                properties:
                  message:
                    type: string
                    example: 'This action is unauthorized.'
        422:
          description: 'validation error'
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'The title field is required.'
                  errors:
                    title:
                      - 'The title field is required.'
                properties:
                  message:
                    type: string
                    example: 'The title field is required.'
                  errors:
                    type: object
                    properties:
                      title:
                        type: array
                        example:
                          - 'The title field is required.'
                        items:
                          type: string
      tags:
        - Cards
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  description: 'The title of the card.'
                  example: 'New Task'
                description:
                  type: string
                  description: 'optional The card description.'
                  example: 'Task details here'
              required:
                - title
    parameters:
      -
        in: path
        name: column_id
        description: 'The ID of the column.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: column
        description: 'The column ID.'
        example: 1
        required: true
        schema:
          type: integer
  '/api/cards/{id}':
    get:
      summary: 'Get a card'
      operationId: getACard
      description: 'Returns a single card with its associated user.'
      parameters: []
      responses:
        200:
          description: success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 1
                    title: 'Task 1'
                    description: 'First task description'
                    position: 0
                    column_id: 1
                    user_id: 1
                    created_at: '2026-01-25T10:00:00.000000Z'
                    updated_at: '2026-01-25T10:00:00.000000Z'
                    user:
                      id: 1
                      name: 'John Doe'
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      title:
                        type: string
                        example: 'Task 1'
                      description:
                        type: string
                        example: 'First task description'
                      position:
                        type: integer
                        example: 0
                      column_id:
                        type: integer
                        example: 1
                      user_id:
                        type: integer
                        example: 1
                      created_at:
                        type: string
                        example: '2026-01-25T10:00:00.000000Z'
                      updated_at:
                        type: string
                        example: '2026-01-25T10:00:00.000000Z'
                      user:
                        type: object
                        properties:
                          id:
                            type: integer
                            example: 1
                          name:
                            type: string
                            example: 'John Doe'
        403:
          description: forbidden
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'This action is unauthorized.'
                properties:
                  message:
                    type: string
                    example: 'This action is unauthorized.'
        404:
          description: 'not found'
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Card not found.'
                properties:
                  message:
                    type: string
                    example: 'Card not found.'
      tags:
        - Cards
    put:
      summary: 'Update a card'
      operationId: updateACard
      description: 'Updates the card title and/or description.'
      parameters: []
      responses:
        200:
          description: success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 1
                    title: 'Updated Task'
                    description: 'Updated description'
                    position: 0
                    column_id: 1
                    user_id: 1
                    created_at: '2026-01-25T10:00:00.000000Z'
                    updated_at: '2026-01-25T11:00:00.000000Z'
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      title:
                        type: string
                        example: 'Updated Task'
                      description:
                        type: string
                        example: 'Updated description'
                      position:
                        type: integer
                        example: 0
                      column_id:
                        type: integer
                        example: 1
                      user_id:
                        type: integer
                        example: 1
                      created_at:
                        type: string
                        example: '2026-01-25T10:00:00.000000Z'
                      updated_at:
                        type: string
                        example: '2026-01-25T11:00:00.000000Z'
        403:
          description: forbidden
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'This action is unauthorized.'
                properties:
                  message:
                    type: string
                    example: 'This action is unauthorized.'
      tags:
        - Cards
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  description: 'The new title for the card.'
                  example: 'Updated Task'
                description:
                  type: string
                  description: 'The new description.'
                  example: 'Updated description'
    delete:
      summary: 'Delete a card'
      operationId: deleteACard
      description: 'Deletes the card permanently.'
      parameters: []
      responses:
        204:
          description: deleted
          content:
            text/plain:
              schema:
                type: string
                example: ''
        403:
          description: forbidden
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'This action is unauthorized.'
                properties:
                  message:
                    type: string
                    example: 'This action is unauthorized.'
      tags:
        - Cards
    parameters:
      -
        in: path
        name: id
        description: 'The ID of the card.'
        example: 16
        required: true
        schema:
          type: integer
      -
        in: path
        name: card
        description: 'The card ID.'
        example: 1
        required: true
        schema:
          type: integer
  '/api/cards/{card_id}/move':
    patch:
      summary: 'Move a card'
      operationId: moveACard
      description: 'Moves a card to a different column and/or position. Triggers notifications to board owner.'
      parameters: []
      responses:
        200:
          description: success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 1
                    title: 'Task 1'
                    description: 'First task description'
                    position: 0
                    column_id: 2
                    user_id: 1
                    created_at: '2026-01-25T10:00:00.000000Z'
                    updated_at: '2026-01-25T11:00:00.000000Z'
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      title:
                        type: string
                        example: 'Task 1'
                      description:
                        type: string
                        example: 'First task description'
                      position:
                        type: integer
                        example: 0
                      column_id:
                        type: integer
                        example: 2
                      user_id:
                        type: integer
                        example: 1
                      created_at:
                        type: string
                        example: '2026-01-25T10:00:00.000000Z'
                      updated_at:
                        type: string
                        example: '2026-01-25T11:00:00.000000Z'
        403:
          description: forbidden
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'This action is unauthorized.'
                properties:
                  message:
                    type: string
                    example: 'This action is unauthorized.'
        422:
          description: 'validation error'
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'The column_id field is required.'
                  errors:
                    column_id:
                      - 'The column_id field is required.'
                properties:
                  message:
                    type: string
                    example: 'The column_id field is required.'
                  errors:
                    type: object
                    properties:
                      column_id:
                        type: array
                        example:
                          - 'The column_id field is required.'
                        items:
                          type: string
      tags:
        - Cards
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                column_id:
                  type: integer
                  description: 'The target column ID.'
                  example: 2
                position:
                  type: integer
                  description: 'The new position (0-based index).'
                  example: 0
              required:
                - column_id
                - position
    parameters:
      -
        in: path
        name: card_id
        description: 'The ID of the card.'
        example: 16
        required: true
        schema:
          type: integer
      -
        in: path
        name: card
        description: 'The card ID.'
        example: 1
        required: true
        schema:
          type: integer
  '/api/columns/{id}':
    get:
      summary: 'Get a column'
      operationId: getAColumn
      description: 'Returns a single column with its cards.'
      parameters: []
      responses:
        200:
          description: success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 1
                    name: 'To Do'
                    position: 0
                    board_id: 1
                    created_at: '2026-01-25T10:00:00.000000Z'
                    updated_at: '2026-01-25T10:00:00.000000Z'
                    cards:
                      -
                        id: 1
                        title: 'Task 1'
                        description: 'First task'
                        position: 0
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: 'To Do'
                      position:
                        type: integer
                        example: 0
                      board_id:
                        type: integer
                        example: 1
                      created_at:
                        type: string
                        example: '2026-01-25T10:00:00.000000Z'
                      updated_at:
                        type: string
                        example: '2026-01-25T10:00:00.000000Z'
                      cards:
                        type: array
                        example:
                          -
                            id: 1
                            title: 'Task 1'
                            description: 'First task'
                            position: 0
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              example: 1
                            title:
                              type: string
                              example: 'Task 1'
                            description:
                              type: string
                              example: 'First task'
                            position:
                              type: integer
                              example: 0
        403:
          description: forbidden
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'This action is unauthorized.'
                properties:
                  message:
                    type: string
                    example: 'This action is unauthorized.'
        404:
          description: 'not found'
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Column not found.'
                properties:
                  message:
                    type: string
                    example: 'Column not found.'
      tags:
        - Columns
    put:
      summary: 'Update a column'
      operationId: updateAColumn
      description: 'Updates the column name and/or position.'
      parameters: []
      responses:
        200:
          description: success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 1
                    name: Done
                    position: 2
                    board_id: 1
                    created_at: '2026-01-25T10:00:00.000000Z'
                    updated_at: '2026-01-25T11:00:00.000000Z'
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: Done
                      position:
                        type: integer
                        example: 2
                      board_id:
                        type: integer
                        example: 1
                      created_at:
                        type: string
                        example: '2026-01-25T10:00:00.000000Z'
                      updated_at:
                        type: string
                        example: '2026-01-25T11:00:00.000000Z'
        403:
          description: forbidden
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'This action is unauthorized.'
                properties:
                  message:
                    type: string
                    example: 'This action is unauthorized.'
      tags:
        - Columns
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'The new name for the column.'
                  example: Done
                position:
                  type: integer
                  description: 'The new position (0-based index).'
                  example: 2
    delete:
      summary: 'Delete a column'
      operationId: deleteAColumn
      description: 'Deletes the column and all its cards. Admin only.'
      parameters: []
      responses:
        204:
          description: deleted
          content:
            text/plain:
              schema:
                type: string
                example: ''
        403:
          description: forbidden
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'This action is unauthorized.'
                properties:
                  message:
                    type: string
                    example: 'This action is unauthorized.'
      tags:
        - Columns
    parameters:
      -
        in: path
        name: id
        description: 'The ID of the column.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: column
        description: 'The column ID.'
        example: 1
        required: true
        schema:
          type: integer
  '/api/boards/{board_id}/columns':
    post:
      summary: 'Create a column'
      operationId: createAColumn
      description: 'Creates a new column in the specified board. Position is auto-assigned.'
      parameters: []
      responses:
        201:
          description: created
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 2
                    name: 'In Progress'
                    position: 3
                    board_id: 1
                    created_at: '2026-01-25T10:00:00.000000Z'
                    updated_at: '2026-01-25T10:00:00.000000Z'
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 2
                      name:
                        type: string
                        example: 'In Progress'
                      position:
                        type: integer
                        example: 3
                      board_id:
                        type: integer
                        example: 1
                      created_at:
                        type: string
                        example: '2026-01-25T10:00:00.000000Z'
                      updated_at:
                        type: string
                        example: '2026-01-25T10:00:00.000000Z'
        403:
          description: forbidden
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'This action is unauthorized.'
                properties:
                  message:
                    type: string
                    example: 'This action is unauthorized.'
        422:
          description: 'validation error'
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'The name field is required.'
                  errors:
                    name:
                      - 'The name field is required.'
                properties:
                  message:
                    type: string
                    example: 'The name field is required.'
                  errors:
                    type: object
                    properties:
                      name:
                        type: array
                        example:
                          - 'The name field is required.'
                        items:
                          type: string
      tags:
        - Columns
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'The name of the column.'
                  example: 'In Progress'
              required:
                - name
    parameters:
      -
        in: path
        name: board_id
        description: 'The ID of the board.'
        example: 16
        required: true
        schema:
          type: integer
      -
        in: path
        name: board
        description: 'The board ID.'
        example: 1
        required: true
        schema:
          type: integer
  /api/notifications:
    get:
      summary: 'List all notifications'
      operationId: listAllNotifications
      description: 'Returns paginated notifications for the authenticated user.'
      parameters:
        -
          in: query
          name: page
          description: 'The page number.'
          example: 1
          required: false
          schema:
            type: integer
            description: 'The page number.'
            example: 1
      responses:
        200:
          description: success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 550e8400-e29b-41d4-a716-446655440000
                      type: App\Notifications\CardMovedNotification
                      data:
                        card_id: 1
                        card_title: 'Task 1'
                        moved_by: 'John Doe'
                        from_column: 'To Do'
                        to_column: Done
                      read_at: null
                      created_at: '2026-01-25T10:00:00.000000Z'
                  links:
                    first: 'http://localhost/api/notifications?page=1'
                    last: 'http://localhost/api/notifications?page=1'
                    prev: null
                    next: null
                  meta:
                    current_page: 1
                    from: 1
                    last_page: 1
                    per_page: 20
                    to: 1
                    total: 1
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 550e8400-e29b-41d4-a716-446655440000
                        type: App\Notifications\CardMovedNotification
                        data:
                          card_id: 1
                          card_title: 'Task 1'
                          moved_by: 'John Doe'
                          from_column: 'To Do'
                          to_column: Done
                        read_at: null
                        created_at: '2026-01-25T10:00:00.000000Z'
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 550e8400-e29b-41d4-a716-446655440000
                        type:
                          type: string
                          example: App\Notifications\CardMovedNotification
                        data:
                          type: object
                          properties:
                            card_id:
                              type: integer
                              example: 1
                            card_title:
                              type: string
                              example: 'Task 1'
                            moved_by:
                              type: string
                              example: 'John Doe'
                            from_column:
                              type: string
                              example: 'To Do'
                            to_column:
                              type: string
                              example: Done
                        read_at:
                          type: string
                          example: null
                        created_at:
                          type: string
                          example: '2026-01-25T10:00:00.000000Z'
                  links:
                    type: object
                    properties:
                      first:
                        type: string
                        example: 'http://localhost/api/notifications?page=1'
                      last:
                        type: string
                        example: 'http://localhost/api/notifications?page=1'
                      prev:
                        type: string
                        example: null
                      next:
                        type: string
                        example: null
                  meta:
                    type: object
                    properties:
                      current_page:
                        type: integer
                        example: 1
                      from:
                        type: integer
                        example: 1
                      last_page:
                        type: integer
                        example: 1
                      per_page:
                        type: integer
                        example: 20
                      to:
                        type: integer
                        example: 1
                      total:
                        type: integer
                        example: 1
        401:
          description: unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  message: Unauthenticated.
                properties:
                  message:
                    type: string
                    example: Unauthenticated.
      tags:
        - Notifications
  /api/notifications/unread:
    get:
      summary: 'List unread notifications'
      operationId: listUnreadNotifications
      description: 'Returns all unread notifications for the authenticated user.'
      parameters: []
      responses:
        200:
          description: success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 550e8400-e29b-41d4-a716-446655440000
                      type: App\Notifications\CardMovedNotification
                      data:
                        card_id: 1
                        card_title: 'Task 1'
                        moved_by: 'John Doe'
                        from_column: 'To Do'
                        to_column: Done
                      read_at: null
                      created_at: '2026-01-25T10:00:00.000000Z'
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 550e8400-e29b-41d4-a716-446655440000
                        type: App\Notifications\CardMovedNotification
                        data:
                          card_id: 1
                          card_title: 'Task 1'
                          moved_by: 'John Doe'
                          from_column: 'To Do'
                          to_column: Done
                        read_at: null
                        created_at: '2026-01-25T10:00:00.000000Z'
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 550e8400-e29b-41d4-a716-446655440000
                        type:
                          type: string
                          example: App\Notifications\CardMovedNotification
                        data:
                          type: object
                          properties:
                            card_id:
                              type: integer
                              example: 1
                            card_title:
                              type: string
                              example: 'Task 1'
                            moved_by:
                              type: string
                              example: 'John Doe'
                            from_column:
                              type: string
                              example: 'To Do'
                            to_column:
                              type: string
                              example: Done
                        read_at:
                          type: string
                          example: null
                        created_at:
                          type: string
                          example: '2026-01-25T10:00:00.000000Z'
        401:
          description: unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  message: Unauthenticated.
                properties:
                  message:
                    type: string
                    example: Unauthenticated.
      tags:
        - Notifications
  '/api/notifications/{id}/read':
    patch:
      summary: 'Mark notification as read'
      operationId: markNotificationAsRead
      description: 'Marks a specific notification as read.'
      parameters: []
      responses:
        204:
          description: success
          content:
            text/plain:
              schema:
                type: string
                example: ''
        401:
          description: unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  message: Unauthenticated.
                properties:
                  message:
                    type: string
                    example: Unauthenticated.
        404:
          description: 'not found'
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Notification not found.'
                properties:
                  message:
                    type: string
                    example: 'Notification not found.'
      tags:
        - Notifications
    parameters:
      -
        in: path
        name: id
        description: 'The notification UUID.'
        example: 550e8400-e29b-41d4-a716-446655440000
        required: true
        schema:
          type: string
  /api/notifications/read-all:
    post:
      summary: 'Mark all notifications as read'
      operationId: markAllNotificationsAsRead
      description: 'Marks all unread notifications as read for the authenticated user.'
      parameters: []
      responses:
        204:
          description: success
          content:
            text/plain:
              schema:
                type: string
                example: ''
        401:
          description: unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  message: Unauthenticated.
                properties:
                  message:
                    type: string
                    example: Unauthenticated.
      tags:
        - Notifications
  '/api/notifications/{id}':
    delete:
      summary: 'Delete a notification'
      operationId: deleteANotification
      description: 'Permanently deletes a notification.'
      parameters: []
      responses:
        204:
          description: deleted
          content:
            text/plain:
              schema:
                type: string
                example: ''
        401:
          description: unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  message: Unauthenticated.
                properties:
                  message:
                    type: string
                    example: Unauthenticated.
        404:
          description: 'not found'
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Notification not found.'
                properties:
                  message:
                    type: string
                    example: 'Notification not found.'
      tags:
        - Notifications
    parameters:
      -
        in: path
        name: id
        description: 'The notification UUID.'
        example: 550e8400-e29b-41d4-a716-446655440000
        required: true
        schema:
          type: string
